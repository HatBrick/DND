<html>
  <head></head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    /*Draggable rows code*/
    .grab {
      cursor: grab;
    }
    .dragover {
      box-shadow: 0 0 13px #000;
    }
    /*GENERAL CODE*/
    table {width:100%;border-collapse:collapse;user-select: none;border-bottom: 1px solid;}
    th {text-align: left;}
    .container {
      position: relative;
      text-align: center;
    }
    .top {
      position: absolute;
      top: 15%;
      left: 50%;
      transform: translate(-50%, -50%);
    }
    .center {
      position: absolute;
      top: 47%;
      left: 50%;
      transform: translate(-50%, -50%);
      width:40%;
    }
    .centerLow {
      position: absolute;
      top: 55%;
      left: 50%;
      transform: translate(-50%, -50%);
      width:40%;
    }
    .bottom {
      position: absolute;
      bottom: 3%;
      left: 50%;
      transform: translate(-50%, -50%);
    }
    input[type="text"] {
      border-width: 0;
      border-bottom-width: thin;
      width: 80%;
      font-weight: inherit;
    }
  </style>
  <body>
    <p id="demo"></p>
    <!-- CHARACTER INFORMATION-->
    <table>
      <tr>
        <th contenteditable>Name</th><td style="width:15%" contenteditable></td>
        <th>Class & Level</th><td style="width:15%"><select class="CharacterClass"></select></td>
        <th contenteditable>Subclass</th><td style="width:15%" contenteditable></td>
        <th contenteditable>Species</th><td style="width:15%" contenteditable></td>
      </tr>
      <tr style="border-bottom: 1px solid;">
        <th contenteditable>Background</th><td style="width:15%" contenteditable></td>
        <th contenteditable>Alignment</th><td style="width:15%" contenteditable></td>
        <th contenteditable>Experience</th><td style="width:15%" contenteditable></td>
        <th contenteditable>Player Name</th><td style="width:15%" contenteditable></td>
      </tr>    
    <!--  CORE STATS -->
      <tr draggable='true' ondragstart='start()' ondragover='dragover()'>
        <td class="grab">&#9776;</td>
        <th class="container"><img src="CoreStatBG.png" width=100><div class="top" contenteditable>Strength</div><div class="center" style="font-size:30px" contenteditable>10</div><div class="bottom" contenteditable>+0</div></th>
        <th class="container"><img src="CoreStatBG.png" width=100><div class="top" contenteditable>Dexterity</div><div class="center" style="font-size:30px"  contenteditable>10</div><div class="bottom" contenteditable>+0</div></th>
        <th class="container"><img src="CoreStatBG.png" width=100><div class="top" contenteditable>Constitution</div><div class="center" style="font-size:30px"  contenteditable>10</div><div class="bottom" contenteditable>+0</div></th>
        <th class="container"><img src="CoreStatBG.png" width=100><div class="top" contenteditable>Intelligence</div><div class="center" style="font-size:30px"  contenteditable>10</div><div class="bottom" contenteditable>+0</div></th>
        <th class="container"><img src="CoreStatBG.png" width=100><div class="top" contenteditable>Wisdom</div><div class="center" style="font-size:30px"  contenteditable>10</div><div class="bottom" contenteditable>+0</div></th>
        <th class="container"><img src="CoreStatBG.png" width=100><div class="top" contenteditable>Charisma</div><div class="center" style="font-size:30px"  contenteditable>10</div><div class="bottom" contenteditable>+0</div></th>
      </tr>
    <!-- MISC STATS -->
      <tr draggable='true' ondragstart='start()' ondragover='dragover()'>
        <td class="grab">&#9776;</td>
        <td class="container"><img src="BasicBG.png" width=100><div class="top" style="top:30%" contenteditable>Proficiency Bonus</div><div class="centerLow" style="font-size:30px" contenteditable></div></td>
        <td class="container"><img src="BasicBG.png" width=100><div class="top" style="top:30%" contenteditable>Inspiration Bonus</div><div class="centerLow" style="font-size:30px" contenteditable></div></td>
        <td class="container"><img src="BasicBG.png" width=100><div class="top" style="top:30%" contenteditable>Initiative</div><div class="centerLow" style="font-size:30px" contenteditable></div></td>
        <td class="container"><img src="BasicBG.png" width=100><div class="top" style="top:30%" contenteditable>Speed</div><div class="centerLow" style="font-size:30px" contenteditable></div></td>
        </tr>
      <!-- ARMOR -->
      <tr draggable='true' ondragstart='start()' ondragover='dragover()'>
        <td class="grab">&#9776;</td>
        <td class="container"><img src="ACIcon.png" width=100><div class="top" style="top:30%" contenteditable>AC</div><div class="centerLow" style="font-size:30px" contenteditable></div></td>
        <td class="container"><img src="BasicBG.png" width=100><div class="top" style="top:30%" contenteditable>Shield</div><div class="centerLow" style="font-size:30px" contenteditable></div></td>
        <td class="container"><img src="BasicBG.png" width=100><div class="top" style="top:30%" contenteditable>Additional Bonuses</div><div class="centerLow" style="font-size:30px" contenteditable></div></td>
      </tr>
    <!-- HEALTH AND HIT DICE -->
      <tr draggable='true' ondragstart='start()' ondragover='dragover()'>
        <td class="grab">&#9776;</td>
        <td class="container"><img src="HPIcon.png" width=100><div class="top" style="top:30%" contenteditable>Max Hit Points</div><div class="centerLow" style="font-size:30px" contenteditable></div></td>
        <td class="container"><img src="BasicBG.png" width=100><div class="top" style="top:30%" contenteditable>Current Hit Points</div><div class="centerLow" style="font-size:30px" contenteditable></div></td>
        <td class="container"><img src="BasicBG.png" width=100><div class="top" style="top:30%" contenteditable>Temp Hit Points</div><div class="centerLow" style="font-size:30px" contenteditable></div></td>
        <td class="container"><img src="BasicBG.png" width=100><div class="top" style="top:30%" contenteditable>Total Hit Dice</div><div class="centerLow" style="font-size:30px" contenteditable></div></td>
        <td class="container"><img src="BasicBG.png" width=100><div class="top" style="top:30%" contenteditable>Current Hit Dice</div><div class="centerLow" style="font-size:30px" contenteditable></div></td>
       
      </tr>
    <!-- DEATH SAVING THROWS -->
      <tr draggable='true' ondragstart='start()' ondragover='dragover()'>
        <td>Death Saves<br>Failure<input type="checkbox"><input type="checkbox"><input type="checkbox"></td>
        <td>Success<input type="checkbox"><input type="checkbox"><input type="checkbox"></td>
      </tr>
    </table>

    <!-- SKILLS AND SAVING THROWS -->
    <table>
      <tr>
        <td></td>
        <th>Proficiency</th>
        <th>Bonus</th>
        <th>Skill</th>
      </tr>
      <tr draggable='true' ondragstart='start()' ondragover='dragover()'>
        <td class="grab">&#9776;</td>
        <th><input type="button" onclick="tristate2(this)" value="&#x25ef;" /></th>
        <th><u>+0</u></th>
        <th><input type="text" value="Strength"></th>
        <td><input type="button" onclick="tristate2(this)" value="&#x25ef;" /></td>
        <td><u>+0</u></td>
        <td><input type="text" value="Athletics"></td>
      </tr>
      <tr draggable='true' ondragstart='start()' ondragover='dragover()'>
        <td class="grab">&#9776;</td>
        <th><input type="button" onclick="tristate2(this)" value="&#x25ef;" /></th>
        <th><u>+0</u></th>
        <th><input type="text" value="Dexterity"></th>
        <td><input type="button" onclick="tristate2(this)" value="&#x25ef;" /></td>
        <td><u>+0</u></td>
        <td><input type="text" value="Acrobatics"></td>
        <td><input type="button" onclick="tristate2(this)" value="&#x25ef;" /></td>
        <td><u>+0</u></td>
        <td><input type="text" value="Slight of Hand"></td>
        <td><input type="button" onclick="tristate2(this)" value="&#x25ef;" /></td>
        <td><u>+0</u></td>
        <td><input type="text" value="Stealth"></d>
      </tr>
      <tr draggable='true' ondragstart='start()' ondragover='dragover()'>
        <td class="grab">&#9776;</td>
        <th><input type="button" onclick="tristate2(this)" value="&#x25ef;" /></th>
        <th><u>+0</u></th>
        <th><input type="text" value="Constitution"></th>
      </tr>
      <tr draggable='true' ondragstart='start()' ondragover='dragover()'>
        <td class="grab">&#9776;</td>
        <th><input type="button" onclick="tristate2(this)" value="&#x25ef;" /></th>
        <th><u>+0</u></th>
        <th><input type="text" value="Intelligence"></th>
        <td><input type="button" onclick="tristate2(this)" value="&#x25ef;" /></td>
        <td><u>+0</u></td>
        <td><input type="text" value="Arcana"></td>
        <td><input type="button" onclick="tristate2(this)" value="&#x25ef;" /></td>
        <td><u>+0</u></td>
        <td><input type="text" value="History"></td>
        <td><input type="button" onclick="tristate2(this)" value="&#x25ef;" /></td>
        <td><u>+0</u></td>
        <td><input type="text" value="Investigation"></td>
        <td><input type="button" onclick="tristate2(this)" value="&#x25ef;" /></td>
        <td><u>+0</u></td>
        <td><input type="text" value="Nature"></td>
        <td><input type="button" onclick="tristate2(this)" value="&#x25ef;" /></td>
        <td><u>+0</u></td>
        <td><input type="text" value="Religion"></td>
      </tr>
      <tr draggable='true' ondragstart='start()' ondragover='dragover()'>
        <td class="grab">&#9776;</td>
        <th><input type="button" onclick="tristate2(this)" value="&#x25ef;" /></th>
        <th><u>+0</u></th>
        <th><input type="text" value="Wisdom"></th>
        <td><input type="button" onclick="tristate2(this)" value="&#x25ef;" /></td>
        <td><u>+0</u></td>
        <td><input type="text" value="Animal Handling"></td>
        <td><input type="button" onclick="tristate2(this)" value="&#x25ef;" /></td>
        <td><u>+0</u></td>
        <td><input type="text" value="Insight"></td>
        <td><input type="button" onclick="tristate2(this)" value="&#x25ef;" /></td>
        <td><u>+0</u></td>
        <td><input type="text" value="Medicine"></td>
        <td><input type="button" onclick="tristate2(this)" value="&#x25ef;" /></td>
        <td><u>+0</u></td>
        <td><input type="text" value="Perception"></td>
        <td><input type="button" onclick="tristate2(this)" value="&#x25ef;" /></td>
        <td><u>+0</u></td>
        <td><input type="text" value="Survival"></td>
      </tr>
      <tr draggable='true' ondragstart='start()' ondragover='dragover()'>
        <td class="grab">&#9776;</td>
        <th><input type="button" onclick="tristate2(this)" value="&#x25ef;" /></th>
        <th><u>+0</u></th>
        <th><input type="text" value="Charisma"></th>
        <td><input type="button" onclick="tristate2(this)" value="&#x25ef;" /></td>
        <td><u>+0</u></td>
        <td><input type="text" value="Deception"></td>
        <td><input type="button" onclick="tristate2(this)" value="&#x25ef;" /></td>
        <td><u>+0</u></td>
        <td><input type="text" value="Intimidation"></td>
        <td><input type="button" onclick="tristate2(this)" value="&#x25ef;" /></td>
        <td><u>+0</u></td>
        <td><input type="text" value="Performance"></td>
        <td><input type="button" onclick="tristate2(this)" value="&#x25ef;" /></td>
        <td><u>+0</u></td>
        <td><input type="text" value="Persuasion"></td>
      </tr>
    </table>
    
    <!-- COMBAT ACTIONS -->
    <table>
      <tr>
        <th>Weapon</th>
        <th>Type</th>
        <th>Range</th>
        <th>Attack Bonus</th>
        <th>Damage</th>
        <th>Notes</th>
      </tr>
      <tr draggable='true' ondragstart='start()' ondragover='dragover()'>
        <td contenteditable>-----</td>
        <td contenteditable>-----</td>
        <td contenteditable>-----</td>
        <td contenteditable>-----</td>
        <td contenteditable>-----</td>
        <td contenteditable>-----</td>
      </tr>
      <tr draggable='true' ondragstart='start()' ondragover='dragover()'>
        <td contenteditable>-----</td>
        <td contenteditable>-----</td>
        <td contenteditable>-----</td>
        <td contenteditable>-----</td>
        <td contenteditable>-----</td>
        <td contenteditable>-----</td>
      </tr>
    </table>

    <!--  EQUIPTMENT/FEATURES -->
    <table>
      <tr>
        <th contenteditable>Features & Traits</th>
        <th contenteditable>Other Proficiencies & Languages</th>
      </tr>
      <tr>
        <td><textarea rows="4" cols="50"></textarea></td>
        <td><textarea rows="4" cols="50"></textarea></td>
      </tr>
      <tr>
        <th contenteditable>Equipment</th>
        <th contenteditable>Equipment</th>
      </tr>
      <tr>
        <td><textarea rows="4" cols="50"></textarea></td>
        <td><textarea rows="4" cols="50"></textarea></td>
      </tr>
    </table>
    <script src="./DataValidation/DND2024CharacterCreation.js"></script>
    <script>
      //PROF-EXPERT BUTTON CODE
      function tristate2(control) {
        tristate(control, '\u25ef', '\u25ce', '\u25c9');
      }
      function tristate(control, value1, value2, value3) {
        switch (control.value.charAt(0)) {
          case value1:
              control.value = value2;
              break;
          case value2:
              control.value = value3;
              break;
          case value3:
              control.value = value1;
              break;
          default:
            // display the current value if it's unexpected
            alert(control.value);
        }
      }
      //ROW MOVEMENT CODE
      var row;
      function start() {
        row = event.target;
      }
      function dragover() {
        var e = event;
        e.preventDefault();

        let children= Array.from(e.target.parentNode.parentNode.children);
        if(children.indexOf(e.target.parentNode)>children.indexOf(row))
          e.target.parentNode.after(row);
        else
          e.target.parentNode.before(row);
      }
    </script>
  </body>
</html>
